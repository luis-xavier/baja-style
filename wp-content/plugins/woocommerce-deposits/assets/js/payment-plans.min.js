jQuery(function(p){p("table.paymentplans").on("click","a.delete_plan",function(n){return!!confirm(wc_deposits_payment_plans_params.i18n_delete_plan)}),p("table.wc-deposits-plan").on("click",".add-row",function(){var n=p("table.wc-deposits-plan");return p(this).closest("tr").after(n.data("row")),p("table.wc-deposits-plan").find(".plan_interval_amount, .plan_amount").change(),!1}).on("click",".remove-row",function(){return p(this).closest("tr").remove(),p("table.wc-deposits-plan").find(".plan_interval_amount, .plan_amount").change(),!1}).on("change input",".plan_amount",function(){var n=p("table.wc-deposits-plan"),a=0;n.find(".plan_amount").each(function(){a+=parseFloat(p(this).val()||0)}),a=Math.round(10*a)/10,n.find(".total_percent").text(a)}).on("change input",".plan_interval_amount, .plan_interval_unit",function(){var n=p("table.wc-deposits-plan"),a=n.find(".total_duration"),t=[],e=0,l=0,o=0,i=!1;n.find(".plan_interval_amount").each(function(){var n=p(this).closest("tr").find(".plan_interval_unit").val(),a=parseInt(p(this).val());"day"===n&&(o+=a),"week"===n&&(o+=7*a),"year"===n&&(e+=a),"month"===n&&(l+=a)}),e&&(t.push(e+" "+a.data("years")),i=!0),l&&(t.push(l+" "+a.data("months")),i=!0),!o&&i||t.push(o+" "+a.data("days")),a.text(t.join(", "))}),p("table.wc-deposits-plan").find(".plan_interval_amount, .plan_amount").change()});
